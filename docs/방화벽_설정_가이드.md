# 🔥 방화벽 설정 가이드

## ❗ 현재 상태
- ✅ 서버 실행 중: 포트 3000
- ❌ 방화벽 규칙 없음
- 결과: 외부에서 접근 불가

---

## 🔧 해결 방법

### **방법 1: PowerShell 스크립트 (권장)**

#### 1단계: PowerShell 관리자 권한으로 실행
```
1. Windows 검색 → "PowerShell" 입력
2. "Windows PowerShell" 우클릭
3. "관리자 권한으로 실행" 선택
```

#### 2단계: 스크립트 실행
```powershell
cd C:\Workspace\MyWork\TestCase
.\setup-firewall-simple.ps1
```

---

### **방법 2: 수동 설정 (GUI)**

#### Windows Defender 방화벽 설정
```
1. Windows 검색 → "Windows Defender 방화벽" 입력
2. 왼쪽 메뉴 → "고급 설정" 클릭
3. "인바운드 규칙" 선택
4. 오른쪽 "새 규칙..." 클릭
5. 규칙 유형: "포트" 선택 → "다음"
6. 프로토콜: "TCP" 선택
   특정 로컬 포트: "3000" 입력 → "다음"
7. 작업: "연결 허용" 선택 → "다음"
8. 프로필: 모두 체크 → "다음"
9. 이름: "TestCase Server - Port 3000" 입력
10. "완료" 클릭
```

---

### **방법 3: 명령어 직접 실행**

#### CMD 관리자 권한으로 실행
```cmd
netsh advfirewall firewall add rule name="TestCase Server - Port 3000" dir=in action=allow protocol=TCP localport=3000
```

---

## ✅ 설정 확인

### 방화벽 규칙 확인
```cmd
netsh advfirewall firewall show rule name="TestCase Server - Port 3000"
```

성공하면:
```
규칙 이름: TestCase Server - Port 3000
방향: 인바운드
프로토콜: TCP
로컬 포트: 3000
작업: 허용
```

---

## 🌐 접속 테스트

### 1. 본인 PC에서
```
http://localhost:3000
```

### 2. 같은 네트워크의 다른 PC에서
```
http://172.31.47.228:3000
```

### 3. 스마트폰에서 (같은 Wi-Fi)
```
http://172.31.47.228:3000
```

---

## 🚨 여전히 안 되는 경우

### 1. 회사 프록시 문제
- 회사 네트워크에서 프록시를 사용하는 경우
- IT 관리자에게 포트 3000 허용 요청

### 2. 추가 방화벽/보안 프로그램
```
- 안티바이러스 프로그램 확인
- 회사 보안 소프트웨어 확인
- VPN 연결 상태 확인
```

### 3. 서버 재시작
```bash
# 서버 중지 (Ctrl+C)
# 방화벽 설정 후
# 서버 재시작
./start-production-external.bat
```

---

## 💡 빠른 테스트

### 로컬에서 먼저 확인
```
1. 브라우저에서 http://localhost:3000 접속
2. 정상 작동 확인
3. 다른 PC나 스마트폰에서 http://172.31.47.228:3000 접속
```

---

## 📞 문제 해결 체크리스트

- [ ] 서버가 실행 중인가? (`netstat -ano | findstr :3000`)
- [ ] 방화벽 규칙이 추가되었는가?
- [ ] 올바른 포트(3000)로 접속하는가?
- [ ] 회사 프록시를 우회하고 있는가?
- [ ] 같은 네트워크에 있는가?

---

## 🎯 지금 바로 해결하기

```powershell
# PowerShell 관리자 권한으로 실행
cd C:\Workspace\MyWork\TestCase
.\setup-firewall-simple.ps1
```

그 다음:
```
http://172.31.47.228:3000
```
으로 다시 접속해보세요!
